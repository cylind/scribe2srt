# GUI字幕设置功能说明

## 概述

现在您可以通过GUI界面的"字幕设置"按钮来调整所有专业字幕参数，无需修改代码。设置会自动保存到 `settings.json` 文件中。

## 设置界面结构

### 1. 基础设置
- **长停顿阈值**：判定为长停顿的时间阈值（0.1-5.0秒）
  - 默认：0.7秒
  - 说明：超过此时长的停顿会触发字幕分割
  
- **长文件自动切分阈值**：大文件自动切分的时长阈值（10-240分钟）
  - 默认：90分钟
  - 说明：超过此时长的文件会自动切分处理

### 2. 专业字幕设置
- **字幕最短显示时间**：单条字幕的最短显示时长（0.5-3.0秒）
  - 默认：0.83秒（Netflix标准）
  - 说明：确保观众有足够时间阅读短字幕

- **字幕最长显示时间**：单条字幕的最长显示时长（2.0-20.0秒）
  - 默认：7.0秒（行业标准）
  - 说明：避免字幕显示过久造成视觉疲劳

- **字幕间最小间隔**：连续字幕间的最小间隔（0.01-1.0秒）
  - 默认：0.083秒（约2帧@24fps）
  - 说明：为观众大脑提供"换气"时间

### 3. 阅读速度控制 (CPS - 每秒字符数)
- **中文/日文/韩文**：CJK语言的最大阅读速度（8-20字符/秒）
  - 默认：11字符/秒
  - 说明：适合高信息密度的表意文字

- **英文等拉丁语言**：拉丁字母语言的最大阅读速度（10-25字符/秒）
  - 默认：15字符/秒
  - 说明：适合拼音文字的阅读特点

### 4. 每行字符数限制 (CPL)
- **中文/日文/韩文**：CJK语言每行最大字符数（12-30字符）
  - 默认：18字符
  - 说明：适合方块字的视觉排版

- **英文等拉丁语言**：拉丁语言每行最大字符数（30-60字符）
  - 默认：42字符
  - 说明：符合Netflix等平台标准

## 使用方法

### 打开设置
1. 启动应用程序
2. 点击界面右上角的"字幕设置"按钮
3. 在弹出的设置对话框中调整参数

### 调整参数
- 使用数字输入框调整各项参数
- 实时预览参数范围和单位
- 所有参数都有合理的范围限制

### 保存设置
- 点击"保存"按钮应用设置
- 设置会自动保存到 `settings.json` 文件
- 下次启动时会自动加载保存的设置

### 重置设置
- 点击"重置为默认值"按钮恢复所有默认设置
- 基于专业字幕制作标准的推荐值

## 参数建议

### 不同内容类型的推荐设置

#### 新闻/纪录片（信息密集）
- CJK CPS: 9-10字符/秒
- 拉丁CPS: 12-14字符/秒
- 最短显示时间: 1.0秒
- 字幕间隔: 0.1秒

#### 电影/电视剧（标准）
- CJK CPS: 11字符/秒（默认）
- 拉丁CPS: 15字符/秒（默认）
- 最短显示时间: 0.83秒（默认）
- 字幕间隔: 0.083秒（默认）

#### 儿童内容（慢节奏）
- CJK CPS: 8-9字符/秒
- 拉丁CPS: 10-12字符/秒
- 最短显示时间: 1.5秒
- 字幕间隔: 0.15秒

#### 快节奏内容（如综艺）
- CJK CPS: 12-13字符/秒
- 拉丁CPS: 16-18字符/秒
- 最短显示时间: 0.7秒
- 字幕间隔: 0.05秒

## 技术细节

### 自动语言检测
- 系统会根据转录结果中的 `language_code` 自动选择对应的CPS和CPL设置
- 支持的CJK语言：中文(zh/zho)、日文(ja/jpn)、韩文(ko/kor)
- 其他语言默认使用拉丁语言设置

### 设置文件格式
```json
{
    "pause_threshold": 0.7,
    "split_duration_min": 90,
    "min_subtitle_duration": 0.83,
    "max_subtitle_duration": 7.0,
    "min_subtitle_gap": 0.083,
    "cjk_cps": 11,
    "latin_cps": 15,
    "cjk_chars_per_line": 18,
    "latin_chars_per_line": 42
}
```

### 向后兼容性
- 保持与旧版本的完全兼容
- 如果设置文件缺少新参数，会自动使用默认值
- 现有的API调用无需修改

## 专业标准参考

本设置系统基于以下专业标准：
- **Netflix字幕规范**：CPS限制、最小时长、断行规则
- **TED字幕标准**：阅读速度控制
- **BBC字幕指南**：舒适的阅读节奏
- **中国广电标准**：字幕间隔要求

通过这些设置，您可以为不同类型的内容创建符合专业标准的高质量字幕。
